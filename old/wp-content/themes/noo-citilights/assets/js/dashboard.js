!function(a){"use strict";a(document).ready(function(){a(".agent-action a").tooltip({html:!0,container:a("body"),placement:"top"}),a(".s-prop-location").length&&a(".s-prop-sub_location").length&&a(".s-prop-location").find(".dropdown-menu > li > a").on("click",function(b){b.stopPropagation(),b.preventDefault();var c=a(this).data("value");a(".s-prop-sub_location .dropdown").children('[data-toggle="dropdown"]').text(a(".s-prop-sub_location .dropdown-menu > li:first a").text()),a(".s-prop-sub_location").find(".dropdown-menu > li").each(function(){var b=a(this).data("parent-location");"undefined"!=typeof b&&b!=c?a(this).hide():a(this).show()})})}),a(".form-group .dropdown").length&&(a(".form-group .dropdown-menu > li > a").on("click",function(b){b.stopPropagation(),b.preventDefault();var c=a(this).closest(".dropdown"),d=a(this).data("value");a(this).data("plan"),a(this).data("price"),c.children("input").val(d),c.children("input").trigger("change"),c.children('[data-toggle="dropdown"]').text(a(this).text()),c.children('[data-toggle="dropdown"]').dropdown("toggle")}),a(".membership-payment .form-group .dropdown-menu > li > a").off("click").on("click",function(b){b.stopPropagation(),b.preventDefault();var c=a(this).closest(".dropdown"),d=a(this).data("value"),e=a(this).data("plan"),f=a(this).data("price");c.children("input#package_id").val(d),c.children("input#plan").val(e),c.children("input#price").val(f),c.children('[data-toggle="dropdown"]').text(a(this).text()),c.children('[data-toggle="dropdown"]').dropdown("toggle")}),a(".s-prop-desc textarea").wysihtml5({"font-styles":!1,blockquote:!1,emphasis:!0,lists:!0,html:!1,link:!0,image:!0,color:!1})),a(".subscription_post #recurring_payment").click(function(){a(this).is(":checked")?a(".subscription_post .recurring_time").show():a(".subscription_post .recurring_time").hide()}),a(".profile-form").submit(function(b){b.preventDefault();var c=a(this),d=c.serializeArray();a.ajax({type:"POST",url:nooL10n.ajax_url,data:d,success:function(b){var d=a.parseJSON(b),e="";e=d.success?'<div class="noo-message alert alert-success alert-dimissible" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span></button>'+d.message+"</div>":'<div class="noo-message alert alert-danger alert-dimissible" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span></button>'+d.message+"</div>",c.find(".form-message").empty().append(e),c.find("input[type=password]").val("")},error:function(){}})}),a(".property-action .agent-action .status-property").click(function(b){b.preventDefault();var c=a(this),d=c.parent(".agent-action"),e={prop_id:d.attr("data-prop-id"),agent_id:d.attr("data-agent-id"),nonce:noo_dashboard.status_property,action:"noo_ajax_status_property"};a.post(nooL10n.ajax_url,e,function(b){var c=a.parseJSON(b);c.success&&location.reload()})}),a(".property-action .agent-action .featured-property").click(function(b){if(b.preventDefault(),confirm(noo_dashboard.confirmFeaturedMsg)){var c=a(this),d=c.parent(".agent-action"),e={prop_id:d.attr("data-prop-id"),agent_id:d.attr("data-agent-id"),nonce:noo_dashboard.featured_property,action:"noo_ajax_featured_property"};a.post(nooL10n.ajax_url,e,function(b){var c=a.parseJSON(b);c.success&&location.reload()})}}),a(".property-action .agent-action .delete-property").click(function(b){if(b.preventDefault(),confirm(noo_dashboard.confirmDeleteMsg)){var c=a(this),d=c.parent(".agent-action"),e={prop_id:d.attr("data-prop-id"),agent_id:d.attr("data-agent-id"),nonce:noo_dashboard.delete_property,action:"noo_ajax_delete_property"};a.post(nooL10n.ajax_url,e,function(b){var d=a.parseJSON(b);d.success&&(c.parent("article").remove(),location.reload())})}}),a(".submission-payment .submission-featured").change(function(){var b=a(this),c=b.closest(".submission-payment");if(b.is(":checked")){c.find(".payment-total span.amount").text(c.attr("data-total-price-text"));var d=c.attr("data-total-price-text").replace(/[^\d\.]/g,"");c.find("input#price_property").val(d),c.find(".payment-action a.paypal-btn").removeClass("disabled")}else{var e=c.find(".listing-price span.amount").length?c.find(".listing-price span.amount").text():c.attr("data-zero-price-text"),d=e.replace(/[^\d\.]/g,"");c.find(".payment-total span.amount").text(e),c.find("input#price_property").val(d),"0"==c.attr("data-listing-price")&&c.find(".payment-action a.paypal-btn").addClass("disabled")}}),a("form.subscription_post").submit(function(b){if(b.preventDefault(),"false"==nooL10n.is_logged_in&&a(".noo-login-form").length>0)return a(".noo-login-form").show(),void 0;var c=a(this),d=c.serializeArray();a.ajax({type:"POST",url:nooL10n.ajax_url,data:d,success:function(b){var d=a.parseJSON(b),e="";d.success?window.location.replace(d.message):e='<div class="noo-message alert alert-danger alert-dimissible" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span></button>'+d.message+"</div>",c.find(".form-message").empty().append(e)},error:function(){}})}),a(".listing-payment-form").submit(function(b){b.preventDefault();var c=a(this),d=c.serializeArray();a.ajax({type:"POST",url:nooL10n.ajax_url,data:d,success:function(b){var d=a.parseJSON(b),e="";d.success?window.location.replace(d.message):e='<div class="noo-message alert alert-danger alert-dimissible" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span></button>'+d.message+"</div>",c.find(".form-message").empty().append(e)},error:function(){}})}),a(".noo-logreg .login-form form").submit(function(b){b.preventDefault();var c=a(this),d=c.serializeArray();a.ajax({type:"POST",url:nooL10n.ajax_url,data:d,success:function(b){var d=a.parseJSON(b),e="";e=d.success?'<div class="noo-message alert alert-success alert-dimissible" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span></button>'+d.message+"</div>":'<div class="noo-message alert alert-danger alert-dimissible" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span></button>'+d.message+"</div>",c.find(".form-message").empty().append(e),"undefined"!=typeof d.redirect&&window.location.replace(d.redirect)},error:function(){}})}),a(".noo-logreg .register-form form").submit(function(b){b.preventDefault();var c=a(this),d=c.serializeArray();a.ajax({type:"POST",url:nooL10n.ajax_url,data:d,success:function(b){var d=a.parseJSON(b),e="";d.success?(e='<div class="noo-message alert alert-success alert-dimissible" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span></button>'+d.message+"</div>",c.find("input[type=text]").val(""),c.find("input[type=email]").val("")):e='<div class="noo-message alert alert-danger alert-dimissible" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span></button>'+d.message+"</div>",c.find(".form-message").empty().append(e),"undefined"!=typeof d.redirect&&window.location.replace(d.redirect)},error:function(){}})})}(jQuery);